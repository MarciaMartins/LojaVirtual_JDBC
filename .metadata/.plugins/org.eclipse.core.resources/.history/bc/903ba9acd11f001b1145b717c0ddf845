package lojaVirtual_JDBC;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import com.mysql.jdbc.PreparedStatement;

public class TestaInsercaoComParametro {

	public static void main(String[] args) throws SQLException {
		String nome = "nome produto";
		String descricao = "descricao produto";
		ConnectionFactory connFactory = new ConnectionFactory();
		Connection connection = connFactory.getConnection();
		PreparedStatement stmt = connection.prepareStatement();
		stmt.execute("INSERT INTO PRODUTO (NOME, DESCRICAO) VALUES ('"+nome+"', '"+descricao+"')", Statement.RETURN_GENERATED_KEYS);
		ResultSet rst = stmt.getGeneratedKeys();
		while (rst.next()) {
			System.out.println("novo Id:"+rst.getInt(1));
		}
		
		

	}

}
